{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport React from 'react';\nimport { getAuth } from '../../utils/auth';\nimport redirect from '../../utils/router';\nexport default function asPublicOnly() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$pathToRedirect = _ref.pathToRedirect,\n      pathToRedirect = _ref$pathToRedirect === void 0 ? '/home' : _ref$pathToRedirect;\n\n  return function (Component) {\n    function PublicOnlyComponent(props) {\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      return /*#__PURE__*/React.createElement(Component, props);\n    }\n\n    PublicOnlyComponent.getInitialProps = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n        var _getAuth, isLoggedIn;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _getAuth = getAuth(ctx), isLoggedIn = _getAuth.isLoggedIn;\n\n                if (!isLoggedIn) {\n                  _context.next = 4;\n                  break;\n                }\n\n                redirect(pathToRedirect, ctx);\n                return _context.abrupt(\"return\", {});\n\n              case 4:\n                return _context.abrupt(\"return\", Component.getInitialProps ? Component.getInitialProps(ctx) : {});\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return PublicOnlyComponent;\n  };\n}","map":{"version":3,"sources":["/home/lucas/dev/uerj/urban-map-site/src/components/Auth/asPublicOnly.jsx"],"names":["React","getAuth","redirect","asPublicOnly","pathToRedirect","Component","PublicOnlyComponent","props","getInitialProps","ctx","isLoggedIn"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AAEA,eAAe,SAASC,YAAT,GAAyD;AAAA,iFAAJ,EAAI;AAAA,iCAAjCC,cAAiC;AAAA,MAAjCA,cAAiC,oCAAhB,OAAgB;;AACtE,SAAO,UAACC,SAAD,EAAe;AACpB,aAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAClC;AACA,0BAAO,oBAAC,SAAD,EAAeA,KAAf,CAAP;AACD;;AAEDD,IAAAA,mBAAmB,CAACE,eAApB;AAAA,2EAAsC,iBAAOC,GAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,2BACbR,OAAO,CAACQ,GAAD,CADM,EAC5BC,UAD4B,YAC5BA,UAD4B;;AAAA,qBAGhCA,UAHgC;AAAA;AAAA;AAAA;;AAIlCR,gBAAAA,QAAQ,CAACE,cAAD,EAAiBK,GAAjB,CAAR;AAJkC,iDAM3B,EAN2B;;AAAA;AAAA,iDAS7BJ,SAAS,CAACG,eAAV,GAA4BH,SAAS,CAACG,eAAV,CAA0BC,GAA1B,CAA5B,GAA6D,EAThC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAtC;;AAAA;AAAA;AAAA;AAAA;;AAYA,WAAOH,mBAAP;AACD,GAnBD;AAoBD","sourcesContent":["import React from 'react';\nimport { getAuth } from '../../utils/auth';\nimport redirect from '../../utils/router';\n\nexport default function asPublicOnly({ pathToRedirect = '/home' } = {}) {\n  return (Component) => {\n    function PublicOnlyComponent(props) {\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      return <Component {...props} />;\n    }\n\n    PublicOnlyComponent.getInitialProps = async (ctx) => {\n      const { isLoggedIn } = getAuth(ctx);\n\n      if (isLoggedIn) {\n        redirect(pathToRedirect, ctx);\n\n        return {};\n      }\n\n      return Component.getInitialProps ? Component.getInitialProps(ctx) : {};\n    };\n\n    return PublicOnlyComponent;\n  };\n}\n"]},"metadata":{},"sourceType":"module"}
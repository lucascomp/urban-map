{"ast":null,"code":"import React from 'react';\nimport { getAuth } from '../../utils/auth';\nimport redirect from '../../utils/router';\nexport default function asPrivate({\n  pathToRedirect = '/login'\n} = {}) {\n  return Component => {\n    function PrivateComponent(props) {\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      return /*#__PURE__*/React.createElement(Component, props);\n    }\n\n    PrivateComponent.getInitialProps = async ctx => {\n      const {\n        isLoggedIn\n      } = getAuth(ctx);\n\n      if (!isLoggedIn) {\n        redirect(pathToRedirect, ctx);\n        return {};\n      }\n\n      return Component.getInitialProps ? Component.getInitialProps(ctx) : {};\n    };\n\n    return PrivateComponent;\n  };\n}","map":{"version":3,"sources":["/home/lucas/dev/uerj/urban-map-site/src/components/Auth/asPrivate.jsx"],"names":["React","getAuth","redirect","asPrivate","pathToRedirect","Component","PrivateComponent","props","getInitialProps","ctx","isLoggedIn"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,kBAAxB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AAEA,eAAe,SAASC,SAAT,CAAmB;AAAEC,EAAAA,cAAc,GAAG;AAAnB,IAAgC,EAAnD,EAAuD;AACpE,SAAQC,SAAD,IAAe;AACpB,aAASC,gBAAT,CAA0BC,KAA1B,EAAiC;AAC/B;AACA,0BAAO,oBAAC,SAAD,EAAeA,KAAf,CAAP;AACD;;AAEDD,IAAAA,gBAAgB,CAACE,eAAjB,GAAmC,MAAOC,GAAP,IAAe;AAChD,YAAM;AAAEC,QAAAA;AAAF,UAAiBT,OAAO,CAACQ,GAAD,CAA9B;;AAEA,UAAI,CAACC,UAAL,EAAiB;AACfR,QAAAA,QAAQ,CAACE,cAAD,EAAiBK,GAAjB,CAAR;AAEA,eAAO,EAAP;AACD;;AAED,aAAOJ,SAAS,CAACG,eAAV,GAA4BH,SAAS,CAACG,eAAV,CAA0BC,GAA1B,CAA5B,GAA6D,EAApE;AACD,KAVD;;AAYA,WAAOH,gBAAP;AACD,GAnBD;AAoBD","sourcesContent":["import React from 'react';\nimport { getAuth } from '../../utils/auth';\nimport redirect from '../../utils/router';\n\nexport default function asPrivate({ pathToRedirect = '/login' } = {}) {\n  return (Component) => {\n    function PrivateComponent(props) {\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      return <Component {...props} />;\n    }\n\n    PrivateComponent.getInitialProps = async (ctx) => {\n      const { isLoggedIn } = getAuth(ctx);\n\n      if (!isLoggedIn) {\n        redirect(pathToRedirect, ctx);\n\n        return {};\n      }\n\n      return Component.getInitialProps ? Component.getInitialProps(ctx) : {};\n    };\n\n    return PrivateComponent;\n  };\n}\n"]},"metadata":{},"sourceType":"module"}